<!DOCTYPE html>
<html>
<head>
  <title>Admin Location Logs</title>
</head>
<body>
  <h2>Visitor Location Logs</h2>

  <table border="1">
    <thead>
      <tr>
        <th>Time</th>
        <th>IP</th>
        <th>Latitude</th>
        <th>Longitude</th>
        <th>Map</th>
      </tr>
    </thead>
    <tbody id="data"></tbody>
  </table>

  <script>
    fetch("/get-logs")
      .then(res => res.json())
      .then(logs => {
        const table = document.getElementById("data");

        logs.forEach(l => {
          const mapLink = `https://www.google.com/maps?q=${l.latitude},${l.longitude}`;

          table.innerHTML += `
            <tr>
              <td>${l.time}</td>
              <td>${l.ip}</td>
              <td>${l.latitude}</td>
              <td>${l.longitude}</td>
              <td>
                <a href="${mapLink}" target="_blank">
                  View Map
                </a>
              </td>
            </tr>
          `;
        });
      });
  </script>
</body>
</html>
